{"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/Product.Model.ts":{"path":"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/Product.Model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":11},"end":{"line":7,"column":40}},"5":{"start":{"line":10,"column":0},"end":{"line":34,"column":3}},"6":{"start":{"line":35,"column":0},"end":{"line":35,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/Product.Model.ts","sources":["/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/Product.Model.ts"],"names":[],"mappings":";;;;;AAAA,yCAA4D;AAC5D,yCAAmB;AAEnB,MAAM,OAAQ,SAAQ,iBAAK;CAK1B;AAED,OAAO,CAAC,IAAI,CAAC;IACT,IAAI,EAAE;QACF,UAAU,EAAE,IAAI;QAChB,IAAI,EAAE,mBAAO;QACb,aAAa,EAAE,IAAI;QACnB,SAAS,EAAE,KAAK;KACjB;IACH,IAAI,EAAE;QACF,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;IACH,SAAS,EAAE;QACP,IAAI,EAAE,IAAA,mBAAO,EAAC,EAAE,EAAC,CAAC,CAAC;QACnB,SAAS,EAAE,KAAK;KACnB;IACD,UAAU,EAAE;QACR,IAAI,EAAE,IAAA,mBAAO,EAAC,EAAE,EAAC,CAAC,CAAC;QACnB,SAAS,EAAE,KAAK;KACnB;CACJ,EAAE;IACC,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,UAAU;IACrB,UAAU,EAAE,KAAK;CACpB,CAAC,CAAC;AAEH,kBAAe,OAAO,CAAC","sourcesContent":["import { Model, INTEGER, STRING, DECIMAL } from 'sequelize';\nimport db from '.';\n\nclass Product extends Model {\n    declare code: number;\n    declare name: string;\n    declare costPrice: number;\n    declare salesPrice: number;\n}\n\nProduct.init({\n    code: {\n        primaryKey: true,\n        type: INTEGER,\n        autoIncrement: true,\n        allowNull: false,\n      },\n    name: {\n        type: STRING,\n        allowNull: false,\n      },\n    costPrice: {\n        type: DECIMAL(10,2),\n        allowNull: false,\n    },\n    salesPrice: {\n        type: DECIMAL(10,2),\n        allowNull: false,\n    },\n}, {\n    underscored: true,\n    sequelize: db,\n    modelName: 'products',\n    timestamps: false,\n});\n\nexport default Product;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3544c0ad347e01ae31c796ba5cfe2d5ed53d3a99","contentHash":"c86ec909cfc9231320cde6057444a9ca79c3b4cbc4093f69ddd171812c351f6f"},"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/index.ts":{"path":"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":15},"end":{"line":15,"column":1}},"3":{"start":{"line":16,"column":18},"end":{"line":16,"column":51}},"4":{"start":{"line":26,"column":0},"end":{"line":26,"column":28}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/index.ts","sources":["/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/index.ts"],"names":[],"mappings":";;AAAA,yCAAsC;AAGtC,MAAM,MAAM,GAAY;IACtB,QAAQ,EAAE,MAAM;IAChB,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,YAAY;IACtB,IAAI,EAAE,WAAW;IACjB,IAAI,EAAE,IAAI;IACV,OAAO,EAAE,OAAO;IAChB,cAAc,EAAE;QACd,QAAQ,EAAE,GAAG;KACd;IACD,OAAO,EAAE,KAAK;CACf,CAAA;AAED,MAAM,SAAS,GAAG,IAAI,qBAAS,CAAC,MAAM,CAAC,CAAA;AAEvC,oCAAoC;AACpC,0DAA0D;AAC1D,4BAA4B;AAC5B,uEAAuE;AACvE,wBAAwB;AACxB,8FAA8F;AAC9F,yBAAyB;AACzB,MAAM;AAEN,qBAAqB;AAErB,kBAAe,SAAS,CAAC","sourcesContent":["import { Sequelize } from 'sequelize';\nimport { Options } from 'sequelize';\n\nconst config: Options = {\n  username: 'root',\n  password: '123456',\n  database: 'shopper_db',\n  host: 'localhost',\n  port: 3306,\n  dialect: 'mysql',\n  dialectOptions: {\n    timezone: 'Z',\n  },\n  logging: false,\n}\n\nconst sequelize = new Sequelize(config)\n\n// async function showAllSchemas() {\n//     const schemas = await sequelize.showAllSchemas({});\n//     console.log(schemas);\n//     const data = await sequelize.getQueryInterface().showAllTables()\n//     console.log(data)\n//     const teste = await sequelize.query('Select * from packs', { type: QueryTypes.SELECT })\n//     console.log(teste)\n//   }\n\n//   showAllSchemas()\n\nexport default sequelize;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ac13c507998d2a0ab143ac40f35c0e321a81ab8a","contentHash":"f9649cb944e84f5edde16f12b4f614cad47b30d353453980cbe07b2807c67c60"},"/home/vinicius/Projects/Shopper/shopper-test/api/src/services/ProductService.ts":{"path":"/home/vinicius/Projects/Shopper/shopper-test/api/src/services/ProductService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":24},"end":{"line":6,"column":84}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":53}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":45}},"6":{"start":{"line":13,"column":23},"end":{"line":13,"column":49}},"7":{"start":{"line":14,"column":8},"end":{"line":14,"column":22}},"8":{"start":{"line":17,"column":8},"end":{"line":19,"column":11}},"9":{"start":{"line":18,"column":12},"end":{"line":18,"column":105}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":20}},"11":{"start":{"line":23,"column":23},"end":{"line":23,"column":68}},"12":{"start":{"line":24,"column":8},"end":{"line":24,"column":49}},"13":{"start":{"line":27,"column":23},"end":{"line":27,"column":25}},"14":{"start":{"line":28,"column":8},"end":{"line":39,"column":9}},"15":{"start":{"line":29,"column":25},"end":{"line":29,"column":69}},"16":{"start":{"line":30,"column":12},"end":{"line":34,"column":13}},"17":{"start":{"line":31,"column":16},"end":{"line":33,"column":56}},"18":{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},"19":{"start":{"line":36,"column":35},"end":{"line":36,"column":111}},"20":{"start":{"line":37,"column":16},"end":{"line":37,"column":40}},"21":{"start":{"line":40,"column":8},"end":{"line":40,"column":22}},"22":{"start":{"line":43,"column":0},"end":{"line":43,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":11,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":20},"end":{"line":15,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":31},"end":{"line":21,"column":5}},"line":16},"4":{"name":"(anonymous_4)","decl":{"start":{"line":17,"column":21},"end":{"line":17,"column":22}},"loc":{"start":{"line":17,"column":40},"end":{"line":19,"column":9}},"line":17},"5":{"name":"(anonymous_5)","decl":{"start":{"line":22,"column":4},"end":{"line":22,"column":5}},"loc":{"start":{"line":22,"column":28},"end":{"line":25,"column":5}},"line":22},"6":{"name":"(anonymous_6)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":32},"end":{"line":41,"column":5}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":24,"column":15},"end":{"line":24,"column":48}},"type":"cond-expr","locations":[{"start":{"line":24,"column":24},"end":{"line":24,"column":41}},{"start":{"line":24,"column":44},"end":{"line":24,"column":48}}],"line":24},"4":{"loc":{"start":{"line":30,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":34,"column":13}},{"start":{"line":30,"column":12},"end":{"line":34,"column":13}}],"line":30},"5":{"loc":{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":38,"column":13}},{"start":{"line":35,"column":12},"end":{"line":38,"column":13}}],"line":35}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":10,"6":1,"7":1,"8":1,"9":1,"10":1,"11":10,"12":10,"13":7,"14":7,"15":9,"16":9,"17":1,"18":9,"19":8,"20":8,"21":7,"22":1},"f":{"0":1,"1":10,"2":1,"3":1,"4":1,"5":10,"6":7},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[9,1],"4":[1,8],"5":[8,1]},"inputSourceMap":{"version":3,"file":"/home/vinicius/Projects/Shopper/shopper-test/api/src/services/ProductService.ts","sources":["/home/vinicius/Projects/Shopper/shopper-test/api/src/services/ProductService.ts"],"names":[],"mappings":";;;;;AACA,qFAAuD;AAEvD,sDAAqG;AAIrG,MAAqB,cAAc;IAAnC;QACc,UAAK,GAAyB,uBAAO,CAAC;IAoCpD,CAAC;IAnCG,KAAK,CAAC,OAAO;QACT,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAA;QACzC,OAAO,MAAM,CAAA;IACjB,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,QAAqB;QAClC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,EAAE,EAAE;YAC7B,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,UAAU,EAAE,OAAO,CAAC,QAAQ,EAAC,EAAE,EAAC,KAAK,EAAC,EAAC,IAAI,EAAE,OAAO,CAAC,IAAI,EAAC,EAAC,CAAC,CAAA;QACvF,CAAC,CAAC,CAAA;QACF,OAAO,IAAI,CAAA;IACf,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,IAAY;QAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;QAC7D,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC;IAC3C,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,QAAiB;QACjC,MAAM,MAAM,GAAgB,EAAE,CAAC;QAC/B,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE;YAC9B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;YAC1D,IAAG,IAAI,KAAK,IAAI,EAAC;gBACf,MAAM,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,OAAO,CAAC,YAAY,EAAE,IAAI,EAAE,EAAE;oBAC/C,SAAS,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,CAAC,SAAS;oBACxD,KAAK,EAAE,yBAAyB,EAAC,CAAC,CAAA;aACrC;YACD,IAAI,IAAI,EAAE;gBACR,MAAM,UAAU,GAAG,MAAM,IAAA,8BAAgB,EAAC,IAAI,EAAE,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAA;gBAC5E,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAA;aACxB;SACF;QAED,OAAO,MAAM,CAAC;IAChB,CAAC;CAEN;AArCD,iCAqCC","sourcesContent":["import { ModelStatic } from 'sequelize';\nimport Product from '../database/models/Product.Model';\nimport IServiceProduct from '../Interfaces/IServiceProducts';\nimport { isPackComplete, packValidation, rulesValidations, validations } from '../utils/validations';\nimport IProducts from '../Interfaces/IProducts';\nimport IData from '../Interfaces/IData';\n\nexport default class ProductService implements IServiceProduct{\n    protected model: ModelStatic<Product> = Product;\n    async readAll(): Promise<Product[]> {\n        const result = await this.model.findAll()\n        return result\n    }\n\n    async updateById(products: IProducts[]): Promise<Product[] | null | any[]> {\n        products.map(async (product) => {\n          await this.model.update({salesPrice: product.newPrice}, {where:{code: product.code}})\n        })\n        return null\n    }\n\n    async findProduct(code: number): Promise<Product | null> {\n        const result = await this.model.findOne({ where: { code } });\n        return result ? result.dataValues : null;\n      }\n      \n      async validateCSV(products: IData[]): Promise<IProducts[]> {\n        const result: IProducts[] = [];\n        for (const product of products) {\n          const data = await this.findProduct(product.product_code);\n          if(data === null){\n            result.push({code: product.product_code, name: '',\n              costPrice: 0, salesPrice: 0, newPrice: product.new_price,\n              error: 'Produto não encontrado!'})\n          }\n          if (data) {\n            const validation = await rulesValidations(data, product.new_price, products)\n            result.push(validation)\n          }\n        }\n      \n        return result;\n      }\n      \n}\n  \n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"820cb3b63f7b28edc0621ee63c9d47aafd1bf9d7","contentHash":"d84d9ee1b8961795dbffbc3549f926ad6623ea509d321445d8347042ae998bd8"},"/home/vinicius/Projects/Shopper/shopper-test/api/src/utils/validations.ts":{"path":"/home/vinicius/Projects/Shopper/shopper-test/api/src/utils/validations.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":106}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":73}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":32}},"6":{"start":{"line":10,"column":4},"end":{"line":13,"column":5}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":56}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":22}},"9":{"start":{"line":14,"column":4},"end":{"line":14,"column":16}},"10":{"start":{"line":17,"column":20},"end":{"line":17,"column":63}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":32}},"12":{"start":{"line":19,"column":4},"end":{"line":22,"column":5}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":85}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":22}},"15":{"start":{"line":23,"column":4},"end":{"line":26,"column":5}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":86}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":22}},"18":{"start":{"line":27,"column":4},"end":{"line":27,"column":16}},"19":{"start":{"line":30,"column":17},"end":{"line":30,"column":44}},"20":{"start":{"line":31,"column":19},"end":{"line":31,"column":55}},"21":{"start":{"line":32,"column":28},"end":{"line":32,"column":67}},"22":{"start":{"line":33,"column":4},"end":{"line":39,"column":5}},"23":{"start":{"line":34,"column":21},"end":{"line":34,"column":23}},"24":{"start":{"line":35,"column":8},"end":{"line":37,"column":11}},"25":{"start":{"line":36,"column":12},"end":{"line":36,"column":41}},"26":{"start":{"line":38,"column":8},"end":{"line":38,"column":20}},"27":{"start":{"line":40,"column":4},"end":{"line":44,"column":5}},"28":{"start":{"line":41,"column":21},"end":{"line":41,"column":56}},"29":{"start":{"line":42,"column":8},"end":{"line":42,"column":45}},"30":{"start":{"line":43,"column":8},"end":{"line":43,"column":20}},"31":{"start":{"line":45,"column":4},"end":{"line":45,"column":14}},"32":{"start":{"line":47,"column":0},"end":{"line":47,"column":40}},"33":{"start":{"line":49,"column":4},"end":{"line":49,"column":87}},"34":{"start":{"line":49,"column":30},"end":{"line":49,"column":85}},"35":{"start":{"line":49,"column":57},"end":{"line":49,"column":84}},"36":{"start":{"line":51,"column":0},"end":{"line":51,"column":40}},"37":{"start":{"line":53,"column":23},"end":{"line":53,"column":62}},"38":{"start":{"line":54,"column":4},"end":{"line":61,"column":5}},"39":{"start":{"line":55,"column":22},"end":{"line":55,"column":56}},"40":{"start":{"line":56,"column":8},"end":{"line":59,"column":9}},"41":{"start":{"line":57,"column":12},"end":{"line":57,"column":40}},"42":{"start":{"line":58,"column":12},"end":{"line":58,"column":24}},"43":{"start":{"line":60,"column":8},"end":{"line":60,"column":21}},"44":{"start":{"line":62,"column":4},"end":{"line":62,"column":22}},"45":{"start":{"line":64,"column":0},"end":{"line":64,"column":34}},"46":{"start":{"line":66,"column":16},"end":{"line":66,"column":18}},"47":{"start":{"line":67,"column":17},"end":{"line":67,"column":45}},"48":{"start":{"line":68,"column":4},"end":{"line":75,"column":5}},"49":{"start":{"line":69,"column":23},"end":{"line":69,"column":53}},"50":{"start":{"line":70,"column":8},"end":{"line":74,"column":9}},"51":{"start":{"line":71,"column":12},"end":{"line":71,"column":62}},"52":{"start":{"line":72,"column":26},"end":{"line":72,"column":67}},"53":{"start":{"line":73,"column":12},"end":{"line":73,"column":24}},"54":{"start":{"line":76,"column":21},"end":{"line":76,"column":51}},"55":{"start":{"line":77,"column":4},"end":{"line":84,"column":5}},"56":{"start":{"line":78,"column":22},"end":{"line":78,"column":30}},"57":{"start":{"line":79,"column":8},"end":{"line":79,"column":20}},"58":{"start":{"line":82,"column":22},"end":{"line":82,"column":56}},"59":{"start":{"line":83,"column":8},"end":{"line":83,"column":20}},"60":{"start":{"line":86,"column":0},"end":{"line":86,"column":44}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"priceValidation","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":24}},"loc":{"start":{"line":8,"column":44},"end":{"line":15,"column":1}},"line":8},"2":{"name":"adjustmentValidation","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":29}},"loc":{"start":{"line":16,"column":49},"end":{"line":28,"column":1}},"line":16},"3":{"name":"packValidation","decl":{"start":{"line":29,"column":15},"end":{"line":29,"column":29}},"loc":{"start":{"line":29,"column":38},"end":{"line":46,"column":1}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":35,"column":19},"end":{"line":35,"column":20}},"loc":{"start":{"line":35,"column":32},"end":{"line":37,"column":9}},"line":35},"5":{"name":"isPackComplete","decl":{"start":{"line":48,"column":9},"end":{"line":48,"column":23}},"loc":{"start":{"line":48,"column":40},"end":{"line":50,"column":1}},"line":48},"6":{"name":"(anonymous_6)","decl":{"start":{"line":49,"column":22},"end":{"line":49,"column":23}},"loc":{"start":{"line":49,"column":30},"end":{"line":49,"column":85}},"line":49},"7":{"name":"(anonymous_7)","decl":{"start":{"line":49,"column":44},"end":{"line":49,"column":45}},"loc":{"start":{"line":49,"column":57},"end":{"line":49,"column":84}},"line":49},"8":{"name":"validations","decl":{"start":{"line":52,"column":9},"end":{"line":52,"column":20}},"loc":{"start":{"line":52,"column":40},"end":{"line":63,"column":1}},"line":52},"9":{"name":"rulesValidations","decl":{"start":{"line":65,"column":15},"end":{"line":65,"column":31}},"loc":{"start":{"line":65,"column":61},"end":{"line":85,"column":1}},"line":65}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":10,"column":4},"end":{"line":13,"column":5}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":13,"column":5}},{"start":{"line":10,"column":4},"end":{"line":13,"column":5}}],"line":10},"4":{"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":71}},"type":"binary-expr","locations":[{"start":{"line":10,"column":8},"end":{"line":10,"column":37}},{"start":{"line":10,"column":41},"end":{"line":10,"column":71}}],"line":10},"5":{"loc":{"start":{"line":19,"column":4},"end":{"line":22,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":22,"column":5}},{"start":{"line":19,"column":4},"end":{"line":22,"column":5}}],"line":19},"6":{"loc":{"start":{"line":23,"column":4},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":26,"column":5}},{"start":{"line":23,"column":4},"end":{"line":26,"column":5}}],"line":23},"7":{"loc":{"start":{"line":33,"column":4},"end":{"line":39,"column":5}},"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":39,"column":5}},{"start":{"line":33,"column":4},"end":{"line":39,"column":5}}],"line":33},"8":{"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":36}},"type":"binary-expr","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":14}},{"start":{"line":33,"column":18},"end":{"line":33,"column":36}}],"line":33},"9":{"loc":{"start":{"line":40,"column":4},"end":{"line":44,"column":5}},"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":44,"column":5}},{"start":{"line":40,"column":4},"end":{"line":44,"column":5}}],"line":40},"10":{"loc":{"start":{"line":54,"column":4},"end":{"line":61,"column":5}},"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":61,"column":5}},{"start":{"line":54,"column":4},"end":{"line":61,"column":5}}],"line":54},"11":{"loc":{"start":{"line":56,"column":8},"end":{"line":59,"column":9}},"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":59,"column":9}},{"start":{"line":56,"column":8},"end":{"line":59,"column":9}}],"line":56},"12":{"loc":{"start":{"line":68,"column":4},"end":{"line":75,"column":5}},"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":75,"column":5}},{"start":{"line":68,"column":4},"end":{"line":75,"column":5}}],"line":68},"13":{"loc":{"start":{"line":68,"column":8},"end":{"line":68,"column":31}},"type":"binary-expr","locations":[{"start":{"line":68,"column":8},"end":{"line":68,"column":12}},{"start":{"line":68,"column":16},"end":{"line":68,"column":31}}],"line":68},"14":{"loc":{"start":{"line":70,"column":8},"end":{"line":74,"column":9}},"type":"if","locations":[{"start":{"line":70,"column":8},"end":{"line":74,"column":9}},{"start":{"line":70,"column":8},"end":{"line":74,"column":9}}],"line":70},"15":{"loc":{"start":{"line":77,"column":4},"end":{"line":84,"column":5}},"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":84,"column":5}},{"start":{"line":77,"column":4},"end":{"line":84,"column":5}}],"line":77}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":4,"6":4,"7":2,"8":2,"9":2,"10":6,"11":6,"12":6,"13":1,"14":1,"15":5,"16":1,"17":1,"18":4,"19":8,"20":8,"21":8,"22":8,"23":2,"24":2,"25":4,"26":2,"27":6,"28":3,"29":3,"30":3,"31":3,"32":1,"33":5,"34":6,"35":9,"36":1,"37":6,"38":6,"39":4,"40":4,"41":2,"42":2,"43":2,"44":2,"45":1,"46":8,"47":8,"48":8,"49":5,"50":5,"51":2,"52":2,"53":2,"54":6,"55":6,"56":4,"57":4,"58":2,"59":2,"60":1},"f":{"0":1,"1":4,"2":6,"3":8,"4":4,"5":5,"6":6,"7":9,"8":6,"9":8},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[2,2],"4":[4,2],"5":[1,5],"6":[1,4],"7":[2,6],"8":[8,8],"9":[3,3],"10":[4,2],"11":[2,2],"12":[5,3],"13":[8,8],"14":[2,3],"15":[4,2]},"inputSourceMap":{"version":3,"file":"/home/vinicius/Projects/Shopper/shopper-test/api/src/utils/validations.ts","sources":["/home/vinicius/Projects/Shopper/shopper-test/api/src/utils/validations.ts"],"names":[],"mappings":"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","sourcesContent":["import IData from \"../Interfaces/IData\";\nimport IProducts from \"../Interfaces/IProducts\"\nimport PackService from \"../services/PackService\";\n\n\nfunction priceValidation(result: IProducts, new_price: number): IProducts | null {\n    result.newPrice = new_price\n    if (result.costPrice >= new_price || result.costPrice === new_price) {\n        result.error = 'O preço é menor do que o custo'\n        return result\n    }\n    return null\n}\n\nfunction adjustmentValidation(result: IProducts, new_price: number): IProducts | null {\n    const percent = ((new_price / result.salesPrice) -1) *100\n    result.newPrice = new_price\n    if ( percent > 10 ){\n        result.error = 'O novo valor possui um aumento maior que 10% do valor atual'\n        return result\n    }\n    if ( percent < -10 ){\n        result.error = 'O novo valor possui um desconto maior que 10% do valor atual'\n        return result\n    }\n    return null\n}\n\nexport async function packValidation(result: IProducts): Promise<number[]> {\n   const pack = new PackService();\n   const isPack = await pack.findByPackId(result.code)\n   const isProductOfPack = await pack.findByProductId(result.code)\n   if (isPack && isPack?.length > 0){\n        const data: number[] = []\n        isPack.map((element) => {\n            data.push(element.productId)\n        })\n        return data\n   }\n   if (isProductOfPack){\n    const data: number[] = [isProductOfPack.dataValues.packId]\n    console.log(data, 'isproductofpack')\n    return data\n   }\n   return []\n}\n\nexport function isPackComplete(\n    products: IData[],\n    pack: number[]): boolean {\n    return pack.every((id) => products.find(\n        (product) => product.product_code === id));\n  }\n\nexport function validations(result: IProducts, new_price: number): IProducts | null{\n    const adjustment = adjustmentValidation(result, new_price)\n    if(!adjustment){\n        const price = priceValidation (result, new_price)\n        if(!price){\n            result.newPrice = new_price\n            return null\n        }\n        return price\n    }\n    return adjustment\n        }\n\nexport async function rulesValidations(result: IProducts, new_price: number, products: IData[]): Promise<IProducts>{\n    let error = ''\n    const pack = await packValidation(result);\n    if (pack && pack.length > 0) {\n      const isPack = isPackComplete(products, pack);\n      if (!isPack) {\n        error = 'O conjunto do produto não está na lista';\n        const data = ({ ...result, newPrice: new_price, error });\n        return data\n      }\n    }\n    const validate = validations(result, new_price);\n    if (validate) {\n        const data =(validate);\n        return data\n    } else {\n        const data = ({ ...result, newPrice: new_price });\n        return data\n    }\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"88325b6764b9c65c1bc9772c3b3cc66400ac46e2","contentHash":"30503048d1f9006b20d6a0bc1180060f6b7befaa356c9089c1d85e3b85697c50"},"/home/vinicius/Projects/Shopper/shopper-test/api/src/services/PackService.ts":{"path":"/home/vinicius/Projects/Shopper/shopper-test/api/src/services/PackService.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":78}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":42}},"5":{"start":{"line":12,"column":23},"end":{"line":12,"column":73}},"6":{"start":{"line":13,"column":8},"end":{"line":13,"column":22}},"7":{"start":{"line":16,"column":23},"end":{"line":16,"column":70}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":22}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":37},"end":{"line":14,"column":5}},"line":11},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":31},"end":{"line":18,"column":5}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":8,"5":8,"6":8,"7":8,"8":8,"9":1},"f":{"0":1,"1":8,"2":8,"3":8},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/vinicius/Projects/Shopper/shopper-test/api/src/services/PackService.ts","sources":["/home/vinicius/Projects/Shopper/shopper-test/api/src/services/PackService.ts"],"names":[],"mappings":";;;;;AACA,+EAAiD;AAGjD,MAAqB,WAAW;IAAhC;QACc,UAAK,GAAsB,oBAAI,CAAC;IAW9C,CAAC;IAVG,KAAK,CAAC,eAAe,CAAC,SAAiB;QACnC,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,EAAC,SAAS,EAAC,EAAC,CAAC,CAAA;QAC7D,OAAO,MAAM,CAAA;IAEjB,CAAC;IACD,KAAK,CAAC,YAAY,CAAC,MAAc;QAC7B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,EAAC,MAAM,EAAC,EAAC,CAAC,CAAA;QAC1D,OAAO,MAAM,CAAA;IAEjB,CAAC;CACJ;AAZD,8BAYC","sourcesContent":["import { ModelStatic } from 'sequelize';\nimport Pack from '../database/models/Pack.Model';\nimport IServicePack from '../Interfaces/IServicePacks';\n\nexport default class PackService implements IServicePack{\n    protected model: ModelStatic<Pack> = Pack;\n    async findByProductId(productId: number): Promise<Pack | null> {\n        const result = await this.model.findOne({where: {productId}})\n        return result\n    \n    }\n    async findByPackId(packId: number): Promise<Pack[] | null> {\n        const result = await this.model.findAll({where: {packId}})\n        return result\n    \n    }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a8f3d32a37cd3a192e136fddd6c3d7624abb97a8","contentHash":"be56afc71b82d6a8ae4c69608c3fd8325b6085442fa9039f03d8614b71ed2ec5"},"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/Pack.Model.ts":{"path":"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/Pack.Model.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":11},"end":{"line":7,"column":40}},"5":{"start":{"line":10,"column":0},"end":{"line":41,"column":3}},"6":{"start":{"line":42,"column":0},"end":{"line":42,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/Pack.Model.ts","sources":["/home/vinicius/Projects/Shopper/shopper-test/api/src/database/models/Pack.Model.ts"],"names":[],"mappings":";;;;;AAAA,yCAA2C;AAC3C,yCAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAKvB;AAED,IAAI,CAAC,IAAI,CACL;IACI,EAAE,EAAE;QACF,IAAI,EAAE,mBAAO;QACb,aAAa,EAAE,IAAI;QACnB,UAAU,EAAE,IAAI;KACjB;IACD,MAAM,EAAE;QACN,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE;YACV,KAAK,EAAE,UAAU;YACjB,GAAG,EAAE,MAAM;SACZ;KACF;IACD,SAAS,EAAE;QACT,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE;YACV,KAAK,EAAE,UAAU;YACjB,GAAG,EAAE,MAAM;SACZ;KACF;IACD,GAAG,EAAE;QACH,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;KACjB;CACF,EACD;IACE,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;CAClB,CACF,CAAC;AAEN,kBAAe,IAAI,CAAA","sourcesContent":["import { Model, INTEGER } from 'sequelize';\nimport db from '.';\n\nclass Pack extends Model {\n    declare id: number;\n    declare packId: number;\n    declare productId: number;\n    declare qty: number\n}\n\nPack.init(\n    {\n        id: {\n          type: INTEGER,\n          autoIncrement: true,\n          primaryKey: true,\n        },\n        packId: {\n          type: INTEGER,\n          allowNull: false,\n          references: {\n            model: 'products',\n            key: 'code',\n          },\n        },\n        productId: {\n          type: INTEGER,\n          allowNull: false,\n          references: {\n            model: 'products',\n            key: 'code',\n          },\n        },\n        qty: {\n          type: INTEGER,\n          allowNull: false,\n        },\n      },\n      {\n        underscored: true,\n        sequelize: db,\n        modelName: 'packs',\n        timestamps: false,\n      }\n    );\n\nexport default Pack"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ad9c8153e1d508a46de4081a58eca8d5a7ee93a","contentHash":"f3cfa2af0a913538f0b99a1af6a02568c2af6ecab42a40213cac940c55f46fd5"}}